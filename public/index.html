<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Love Connect ‚ù§Ô∏è</title>
  <link rel="stylesheet" href="style.css">
</head>
<body class="center">
  <h1>Welcome to Love Connect üíï</h1>
  <p>Create your private room</p>
  <form id="form">
    <input type="text" id="roomPassword" placeholder="Optional Room Password üîê">
    <button class="btn">Start Private Chat üíñ</button>
  </form>
  <script>
    document.getElementById('form').onsubmit = function(e) {
    e.preventDefault();
    const password = document.getElementById('roomPassword').value;

    // Make a GET request to the root which redirects to /room/<uuid>
    fetch('/', { redirect: 'follow' })
      .then(res => {
        const redirectedUrl = res.url;

        // Store password locally (optional)
        if (password) {
          localStorage.setItem(new URL(redirectedUrl).pathname, password);
        }

        // Redirect manually
        window.location.href = redirectedUrl;
      });
  };
  </script>
</body>
</html>